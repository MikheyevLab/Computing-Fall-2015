---
layout: post
title: 3. Debug your code
categories: []
tags:
  - news
published: false
---
# What is programming about
Last week we introduced the programming language Python. We went swiftly over concepts like functions, classes and objects. We also introduced constructs for controlling the flow of a program.
Learning programming is like learning a how to write an essay. First you have to learn the language you are using. A language consists of syntax (significant whitespace, function definition), semantics (the meaning of `a[i]`, `for ... `, `if ...`) and abstract concepts you can use (classes, objects, functions). Different languages use different syntax and sometimes different semantics, but abstract concepts are mostly transferable between languages.
After learning the underpinnings of a language you will have to learn the *words*/*tools* a language provides. Each language comes with a *base* library that provides you with a set of tools that you can use to write programs faster.

Lastly there is learning how to express your thoughts abstractly and how to model your research problem with a computer.

In the following lectures we will introduce you mostly to *tools* and hopefully guide you towards how to express your thoughts with code.

# Significant whitespace
A concept we glossed over last time is *significant whitespace*.

In C-like languages a for loop looks like this
```C
for(int i = 0; i < 10; ++i) {
  ...
}
```

In Fortan like languages a for loop looks like this
```julia
for i in 0:9
  ...
end
```

In Python on the other hand it looks like
```py
for i in range(0, 10):
    ...

```

The important difference is that Python uses *four* spaces to delineate blocks (`while`, `if`, `for`, `def`, `class`). This reduces the level of frustration because you wont forget opening and closes bracing and semicolons. The only drawback is that the following is totally legal
```py
counter = 0
while (counter < 100):
    doSomethingFancy(counter)
counter = counter + 1
```

# Debugging
In order to deal with bugs we can use a tool called debugger. Once you encounter behavior of your program the first instinct is to go into your source code and add a lot of `print` statements to inspect the state of the program. Instead of doing that we will use a debugger to inspect the program at points of interests.

## Static analysis
There are also tools to statically analyse your source without actually running the code. These tools will inform you about missing imports, syntax problems and places where you likely misspelled a variable.

A good one is `pyflakes` and if you are writing a lot of python code I recommend looking into it and running it every time you safe your code. It is like having a private tutor ;)

## Resources
- Introduction on `pdb`/`ipdb` and `pyflakes` by [scipy-lectures](http://www.scipy-lectures.org/advanced/debugging/)
- [intro to python debugging](https://www.safaribooksonline.com/blog/2014/11/18/intro-python-debugger/)

## Debugging in Python with `ipdb`
- Install the debugger with `sudo pip3 install ipdb`.
- Run a script under the debugger with `ipdb3 my_script.py`

### Commands
- `?`/`h` (help)
- `w` (where) prints a stacktrace
- `b` (break) set a breakpoint
- `ENTER` (repeat previous)
- `q` (quit)
- `p <variable>` (print value)
- `c` (continue)
- `l` (list where you are)
- `s` (step into subroutine)
- `r` (continue till the end of the subroutine)
- `! <python command>`

# Breakpoints and stacktrace

## Debugging in IPython

# Profiling

# Homework

The homework is due on *October 8 2015* at *12:00pm* (eg. noon). Hand in your homework either as a IPython notebook or a pdf + the source code you wrote.

1. Describe in your own words what a Object is. What is the relation between objects and classes?
2. Implement a `sort` function that manually sorts a list.
    ```Python
    import random
    a = [random.random() for i in range(0,10)]

    b = sort(a)
    print(b)
    ```
3. Describe how you sort a list. Is this the most efficient way? How is the number of steps your algorithm takes dependent on the size of the list?
4. Take a sorted list and search for an element stored in it.
5. Describe how your algorithm work. Is there are more efficient way? How many steps does your algorithm take:
    - If the element is not in the list
    - If the element is at the very end of the list
    - If the element is in the middle of the list
3. Similarly to last weeks exercise (implement a binary-tree) implement a class that realizes the concept of a list.
